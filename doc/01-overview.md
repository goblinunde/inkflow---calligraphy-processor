# 项目简介

## 项目背景

InkFlow（墨韵流转）是一个专业的书法作品数字化处理工作台，旨在帮助书法爱好者和专业人士将实体书法作品转换为高质量的数字图像。

### 解决的问题

1. **背景去除**: 拍摄的书法照片背景杂乱
2. **墨迹增强**: 墨迹不够清晰、对比度不足
3. **数字化难题**: 缺乏专业工具进行后期处理
4. **格式转换**: 需要多种格式适配不同场景

---

## 核心功能

### 1. 双模式处理

#### 墨迹模式 (Ink Mode)

- 智能背景去除
- 墨迹边缘增强
- 多级阈值调整
- 自适应二值化

#### 照片模式 (Photo Mode)

- 保留原始背景
- 色彩饱和度调整
- 亮度/对比度控制
- 纹理叠加

### 2. 水印系统

**图片水印**:

- 支持 PNG/JPEG/SVG
- 实时拖拽调整
- 透明度控制
- 旋转功能

**文字水印**:

- 10种艺术字体（中英文）
- 字号/颜色自定义
- 位置精确控制
- 网格对齐辅助

### 3. AI修复

- Google Gemini AI集成
- 智能去噪修复
- 细节增强
- 一键处理

### 4. 预设系统

**内置预设**:

- 楷书优化
- 行书流畅
- 草书狂放
- 照片模式

**用户预设**:

- 保存当前配置
- LocalStorage持久化
- 导入/导出JSON

### 5. 多格式导出

- PNG - 无损，支持透明
- JPEG - 压缩，节省空间
- WebP - 现代格式，高压缩率
- SVG - 矢量图，可编辑

### 6. 高效交互

**快捷键**:

- `Ctrl+Z/Y` - 撤销/重做
- `Ctrl+S` - 保存
- `Delete` - 删除
- `Ctrl+D` - 复制

**历史管理**:

- 20步操作记录
- 自动状态追踪
- 快速回退

---

## 技术栈

### 前端框架

- **React 18**: UI框架
- **TypeScript**: 类型安全
- **Vite**: 构建工具

### 样式

- **Tailwind CSS**: 原子化CSS
- **自定义组件**: 精美UI

### 图像处理

- **Canvas API**: 底层渲染
- **自研算法**: 图像处理核心

### AI服务

- **Google Gemini**: AI修复
- **Generative AI SDK**: API集成

### 工具库

- **ImageTracer.js**: SVG矢量化
- **Lucide React**: 图标库

---

## 项目结构

```
inkflow/
├── src/
│   ├── App.tsx              # 主应用
│   ├── types.ts             # 类型定义
│   ├── components/          # React组件
│   │   ├── Sidebar.tsx      # 侧边栏
│   │   ├── MainCanvas.tsx   # 主画布
│   │   ├── WatermarkOverlay.tsx  # 水印层
│   │   ├── PresetPanel.tsx  # 预设面板
│   │   └── ui/              # UI组件
│   ├── services/            # 服务层
│   │   ├── processor.ts     # 图像处理
│   │   ├── geminiService.ts # AI服务
│   │   ├── vectorizer.ts    # 矢量化
│   │   ├── presets.ts       # 预设管理
│   │   ├── colorPresets.ts  # 色彩预设
│   │   └── translations.ts  # 国际化
│   ├── hooks/               # 自定义Hooks
│   │   ├── useHistory.ts    # 历史管理
│   │   └── useKeyboardShortcuts.ts  # 快捷键
│   └── public/              # 静态资源
│       └── textures/        # 纹理图片
├── doc/                     # 项目文档
└── package.json
```

---

## 核心特性

### 🎯 专业级处理

- 多参数精细调控
- 专业预设方案
- AI智能增强

### ⚡ 高效工作流

- 快捷键系统
- 撤销/重做
- 批量处理（规划中）

### 🎨 丰富的自定义

- 水印系统
- 纹理选择
- 色彩预设

### 💾 灵活导出

- 4种格式
- 自定义尺寸
- 质量控制

---

## 应用场景

### 个人用户

- 书法作品数字化保存
- 社交媒体分享
- 作品集制作

### 专业用户

- 书法教学素材
- 出版印刷准备
- 展览作品处理

### 教育机构

- 教学演示
- 学生作业批改
- 课程资料制作

---

## 性能指标

- **启动时间**: < 2秒
- **处理速度**: 2-3秒/张（1920x1080）
- **内存占用**: ~150MB
- **支持分辨率**: 最高8K

---

## 浏览器支持

- Chrome 90+
- Edge 90+
- Firefox 88+
- Safari 14+

---

## 下一步

继续阅读: [系统架构 →](./02-architecture.md)
